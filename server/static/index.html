<!DOCTYPE html>
<html>
    <head>
        <title>Go Space</title>
        <meta name="description" content="Hello, WebVR! - A-Frame">
        <script src="/js/aframe.min.js"></script>
        <script src="/js/spherical-env-map.js"></script>
        <script src="/js/roll-dice2-component.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.5/socket.io.min.js"></script>
        <script src="easyrtc/easyrtc.js"></script>
        <script src="https://unpkg.com/networked-aframe/dist/networked-aframe.min.js"></script>
        <script src="/js/spawn-in-circle.component.js"></script>

    </head>
    <body>
       
        <a-scene networked-scene="  app: myApp;
        room: room1;
        debug: true;
        adapter: easyrtc;" 
        shadow="type:basic;">
                <a-assets timeout="10000">

                    <img crossorigin="anonymous" id="skymap" src="/assets/textures/Sky.jpg">
                    <img crossorigin="anonymous" id="worldmap" src="/assets/textures/goSpace_texture.png">
                   
                    <img crossorigin="anonymous" id="dicemap" src="/assets/textures/dice.png">
                    
                    <a-asset-item crossorigin="anonymous" id="world" src="/assets/models/goSpace.obj"></a-asset-item>
                    <a-asset-item crossorigin="anonymous" id="dice" src="/assets/models/dice.obj"></a-asset-item>
                    
                    <template id="avatar-template">
                        <a-entity class="avatar">
                        <a-entity obj-model="obj: #snowman" material ="src: #snowmap" scale="1 1 1" rotation="0 180 0" shadow="cast:true; receive:true;"></a-entity>
                          </a-entity>
                        </a-entity>
                      </template>
                      <img crossorigin="anonymous" id="snowmap" src="/assets/textures/snowman_tex.png">
                    
                      <a-asset-item crossorigin="anonymous" id="snowman" src="/assets/models/snowman.obj"></a-asset-item>
              
                   
                </a-assets>
                <a-entity id="player" networked="template:#avatar-template;attachTemplateToLocal:false;" camera position="0 13 0" spawn-in-circle="radius:3;" wasd-controls look-controls>
                    <a-entity   cursor="fuse:true; fuseTimeout:500; rayOrigin:mouse;" >
                    </a-entity>
                </a-entity>

          
                <a-entity light="type:directional; castShadow:true; intensity:0.6; shadowBias:-0.000001; shadowMapWidth:1024; shadowMapHeight:1024;" position="-0.5 1 1"></a-entity>
                <a-entity light="type: ambient; intensity: 1.0; color:#bbb;"></a-entity>
            
                
                
                
                <a-entity obj-model="obj: #world" material ="src: #worldmap" scale="22 22 22" position=" 0 -10 0" rotation="0 -45 0"shadow="cast:true; receive:true;"></a-entity>
         
                <a-entity roll-dice2-component obj-model="obj: #dice" material ="src: #dicemap" scale="2 2 2" position=" 0 13 -10" shadow="cast:true; receive:true;">
                    <a-animation attribute="position" begin="mouseenter" dur="500" to="0 12 -10"></a-animation>
                    <a-animation attribute="rotation" begin="mouseenter" dur="500" to="360 -90 45"></a-animation>
                </a-entity> 
                
            
                <a-entity id="sky"
                    geometry="primitive:sphere; radius:500;"
                    material="shader:flat; src:#skymap; side:back; height:2048; width:2048"></a-entity>
        </a-scene>
        <script>
            
            NAF.schemas.add({
              template: '#avatar-template',
              components: [
                'position',
                'rotation'
              ]
            });
          </script>
    </body>
</html>
