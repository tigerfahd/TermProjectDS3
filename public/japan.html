<!DOCTYPE html>
<html>
    <head>
        <title>Hello, WebVR! - A-Frame</title>
        <meta name="description" content="Hello, WebVR! - A-Frame">
        <script src="/js/aframe.min.js"></script>
        <script src="/js/spherical-env-map.js"></script>
        <script src="/js/roll-dice-component.js"></script>
        
        <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
        <script src="https://unpkg.com/networked-aframe/dist/networked-aframe.min.js"></script>  
       
        
    </head>
    <body>

        <a-scene networked-scene shadow="type:basic;">
                <a-assets timeout="10000">

                    <!-- all assets that can be cached by browser -->
                    <img crossorigin="anonymous" id="skymap" src="/assets/textures/SunsetSky.jpg">
                    <img crossorigin="anonymous" id="worldmap" src="/assets/textures/Japan.png">
                    <img crossorigin="anonymous" id="dicemap" src="/assets/textures/dice.png">
                    <img crossorigin="anonymous" id="drummap" src="/assets/textures/denDenDaiko_texture.png">
                    <img crossorigin="anonymous" id="katmap" src="/assets/textures/katana_tex.png">
                    <img crossorigin="anonymous" id="shamisenmap" src="/assets/textures/shamisen_texture.png">
                    

                    <a-asset-item crossorigin="anonymous" id="dice" src="/assets/models/dice.obj"></a-asset-item>
                    <a-asset-item crossorigin="anonymous" id="world" src="/assets/models/japan.obj"></a-asset-item>
                    <a-asset-item crossorigin="anonymous" id="drum" src="/assets/models/denDenDaiko.obj"></a-asset-item>
                    <a-asset-item crossorigin="anonymous" id="kat" src="/assets/models/katana.obj"></a-asset-item>
                    <a-asset-item crossorigin="anonymous" id="shamisen" src="/assets/models/shamisen.obj"></a-asset-item>
                

                    <!-- this is the recommended method to preload sound though the above method seems to work consistently -->
                    <!-- <audio id="create-sound" crossorigin="anonymous" src="/assets/sound/0.ogg" ></audio> -->
                    <!-- <audio id="delete-sound" crossorigin="anonymous" src="/assets/sound/1.ogg" ></audio> -->
                </a-assets>
               
                <!-- traditional method of creating a camera and cursor component for selection. select with reticle. -->
                <!-- Also added in controls for desktop mouse/kb -->
                <a-entity  position="13 20 170 " camera look-controls wasd-controls="acceleration: 270">
                    <!-- if you add rayOrigin:mouse to teh cursor properties selection happens where you click -->
                    <!-- <a-entity   cursor="fuse:true; fuseTimeout:500; rayOrigin:mouse;" -->
                    <a-entity   cursor="fuse:true; fuseTimeout:500;"
                                position="0 0 -1"
                                geometry="primitive:ring; radiusInner:0.02; radiusOuter:0.03;"
                                material="shader:flat; color:black;" >
                    </a-entity>
                </a-entity>

                <!-- sound entities we will query and play in components -->
                <!-- <a-entity id="createSound" sound="src:#create-sound"></a-entity>
                <a-entity id="deleteSound" sound="src:#delete-sound"></a-entity> -->
            
                    
                <a-entity light="type:directional; castShadow:true; intensity:0.6; shadowBias:-0.000001; shadowMapWidth:1024; shadowMapHeight:1024;" position="-0.5 1 1"></a-entity>
                <a-entity light="type: ambient; intensity: 1.0; color:#bbb;"></a-entity>

                <a-entity position="0 40 0" particle-system="preset: snow; texture: /assets/textures/petal.png; size:5; accelerationValue:0,20,0; velocityValue:0,50,0 color:#ffb5e2,#fc93d2;"></a-entity>
                

                <a-entity obj-model="obj: #world" material ="src: #worldmap" scale="0.18 0.18 0.18" position=" 0 -5 0" shadow="cast:true; receive:true;"></a-entity>
                <!-- <a-entity obj-model="obj: #cloud1" material ="src: #cloudmap" scale="1 1 1" position=" 0 7 0" shadow="cast:true; receive:true;"> -->
                    <!-- <a-animation attribute="position" to="30 3 0" direction="alternate" dur="2000" repeat="indefinite"></a-animation> -->
                <!-- </a-entity> -->
                <a-entity roll-dice-component obj-model="obj: #dice" material ="src: #dicemap" scale="3 3 3" position=" 25 -0.5 38" shadow="cast:true; receive:true;"></a-entity>
                <a-entity obj-model="obj: #drum" material ="src: #drummap" scale="2.5 2.5 2.5" position=" -121 11.8 -24" rotation="360 225 45" shadow="cast:true; receive:true;">
                    <a-animation attribute="position" begin="mouseenter" to="-120 14.8 -24" direction="alternate" dur="2000" repeat="indefinite"></a-animation>
                    <!-- <a-animation attribute="rotation" begin="mouseenter" dur="200" to="0 -90 0"></a-animation> -->
                    <!-- <a-animation attribute="rotation" begin="click" dur="2500" to="360 225 45"></a-animation> -->
                </a-entity>
            
                </a-entity>
                <a-entity obj-model="obj: #kat" material ="src: #katmap" scale="0.04 0.04 0.04" position=" -121 7.8 -6" rotation="0 90 35" shadow="cast:true; receive:true;">
                    <a-animation attribute="position" begin="mouseenter" to="-120 12.8 -6" direction="alternate" dur="2000" repeat="indefinite"></a-animation>
                    
                    <a-animation attribute="rotation" begin="mouseenter" dur="2500" to="360 225 45"></a-animation>
                </a-entity>

                <a-entity obj-model="obj: #shamisen" material ="src: #shamisenmap" scale="2.5 2.5 2.5" position=" -121 11.8 -46" rotation="45 90 45" shadow="cast:true; receive:true;">
                    <a-animation attribute="position" begin="mouseenter" to="-120 14.8 -46" direction="alternate" dur="2000" repeat="indefinite"></a-animation>
        
                </a-entity>

            
                <a-entity id="sky"
                    geometry="primitive:sphere; radius:600;"
                    material="shader:flat; src:#skymap; side:back; height:2048; width:2048"></a-entity>
        </a-scene>
    </body>
</html>
